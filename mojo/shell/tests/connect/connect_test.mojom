// Copyright 2016 The Chromium Authors. All rights reserved.
// Use of this source code is governed by a BSD-style license that can be
// found in the LICENSE file.

module mojo.shell.test.mojom;

interface ConnectTestService {
  GetTitle() => (string title);
  GetInstance() => (string instance);
};

// Interface implemented by a standalone (non-package) app.
interface StandaloneApp {
  // Attempts to connect to an application whose name is explicitly allowed by
  // the standalone app's CapabilityFilter, but whose enclosing package is not.
  // The connection should be blocked and title should be "uninitialized".
  ConnectToAllowedAppInBlockedPackage() => (string title);
};

struct ConnectionState {
  string connection_local_name;
  string connection_remote_name;
  string connection_remote_userid;
  uint32 connection_remote_id;
  string initialize_local_name;
  string initialize_userid;
  uint32 initialize_id;
};

interface ExposedInterface {
  ConnectionAccepted(ConnectionState state);
};

interface BlockedInterface {
  GetTitleBlocked() => (string blocked_title);
};
